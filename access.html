<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DB손보 펫 플랫폼</title>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/access.css">
</head>
<body>
    <div id="wrap">
        <div class="splash">
            <img src="assets/image/access/splash.png" alt="">
        </div>

        <!-- step 1 -->
        <div class="step step-1">
            <div class="heading-txt">
                <h2 class="reveal">먼저 우리 아이에 대해 <br>알려주세요!</h2>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/main-box1.png" alt="" class="reveal">
            </div>
            <div class="bottom">
                <div class="progress reveal"><img src="assets/image/access/progress1.png" alt=""></div>
                <div class="btn-wrap reveal"><img src="assets/image/access/next-btn.png" alt="" class="nextBtn"></div>
            </div>
        </div>

        <!-- step 2 -->
        <div class="step step-2">
            <div class="heading-txt">
                <h2 class="reveal">우리 아이 기본 정보를 <br>등록해주세요.</h2>
            </div>
            <div class="layer">
                <img src="assets/image/access/bottom.png" alt="" class="nextBtn">
            </div>
        </div>
        
        <!-- step 3 -->
        <div class="step step-3">
            <div class="heading-txt">
                <h2 class="reveal">우리 아이의 멋진 사진을 <br>등록해주세요.</h2>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/main-box2.png" alt="" class="reveal">
            </div>
            <div class="bottom">
                <div class="progress reveal"><img src="assets/image/access/progress4.png" alt=""></div>
                <div class="btn-wrap reveal"><img src="assets/image/access/next-btn.png" alt="" class="nextBtn"></div>
            </div>
        </div>

        <!-- step 4 -->
        <div class="step step-4">
            <div class="bg">
                <img src="assets/image/access/bg-main-box3.png" alt="" class="reveal">
            </div>
            <div class="heading-txt">
                <h2 class="reveal">꼬미의 등록이 <br>완료되었어요!</h2>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/main-box3.png" alt="" class="reveal">
                <img src="assets/image/access/main-box3-star.png" alt="" class="start start1 reveal">
                <img src="assets/image/access/main-box3-star.png" alt="" class="start start2 reveal">
            </div>
            <div class="bottom">
                <div class="btn-wrap reveal"><img src="assets/image/access/next-btn.png" alt="" class="nextBtn"></div>
            </div>
        </div>

        <!-- step 5 -->
        <div class="step step-5">
            <div class="heading-txt">
                <h2 class="reveal">꼬미는 관리를 <br>잘 받고 있을까요?</h2>
                <p class="reveal">집사의 스타일에 따라 달라지는 꼬미의 모습 <br>테스트로 확인해보세요</p>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/main-box4.png" alt="" class="reveal">
            </div>
             <div class="bottom">
                <div class="btn-wrap reveal"><img src="assets/image/access/test-btn2.png" alt="" class="nextBtn"></div>
            </div>
        </div>

        <!-- step 6 -->
        <div class="step step-6 chk-list">
            <div class="heading-txt">
                <h2 class="reveal">꼬미가 산책 가자고 <br>목줄 물고 온다면 나는?</h2>
                <p class="reveal">맞춤 숙제 추천을 위해 정보를 입력해주세요.</p>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/chk-list1-1.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list1-2.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list1-3.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list1-4.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list1-active.png" alt="" class="img-active">
            </div>
             <div class="bottom">
                <div class="progress reveal"><img src="assets/image/access/progress2.png" alt=""></div>
                <div class="btn-wrap reveal"><img src="assets/image/access/next-btn.png" alt="" class="nextBtn"></div>
            </div>
        </div>

        <!-- step 7 -->
        <div class="step step-7 chk-list">
            <div class="heading-txt">
                <h2 class="reveal">꼬미와 함께 <br>잠잘 때의 나는?</h2>
                <p class="reveal">맞춤 숙제 추천을 위해 정보를 입력해주세요.</p>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/chk-list2-1.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list2-2.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list2-3.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list2-4.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list2-active.png" alt="" class="img-active">
            </div>
             <div class="bottom">
                <div class="progress reveal"><img src="assets/image/access/progress3.png" alt=""></div>
                <div class="btn-wrap reveal"><img src="assets/image/access/next-btn.png" alt="" class="nextBtn"></div>
            </div>
        </div>


        <!-- step 8 -->
        <div class="step step-8 chk-list">
            <div class="heading-txt">
                <h2 class="reveal">꼬미가 갑자기 토했을 때 <br>나의 반응은?</h2>
                <p class="reveal">맞춤 숙제 추천을 위해 정보를 입력해주세요.</p>
            </div>
            <div class="main-cont">
                <img src="assets/image/access/chk-list3-1.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list3-2.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list3-3.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list3-4.png" alt="" class="reveal">
                <img src="assets/image/access/chk-list3-active.png" alt="" class="img-active">
            </div>
             <div class="bottom">
                <div class="progress reveal"><img src="assets/image/access/progress4.png" alt=""></div>
                <div class="btn-wrap reveal"><img src="assets/image/access/next-btn.png" alt="" class="nextBtn"></div>
            </div>
        </div>

        <!-- step 9 -->
        <div class="step step-9">
            <div class="close-area"><img src="assets/image/access/icon-close.png" alt=""></div>
            <div class="result1">
                <img src="assets/image/access/result1.png" alt="" class="result1-1 reveal">
                <div class="img-group">
                    <img src="assets/image/access/result2.png" alt="" class="result1-2 reveal">
                    <img src="assets/image/access/result3.png" alt="" class="result1-3 reveal">
                    <img src="assets/image/access/result4.png" alt="" class="result1-4 reveal">
                </div>
                <img src="assets/image/access/result5.png" alt="" class="result1-5 reveal">
                <img src="assets/image/access/result6.png" alt="" class="result1-6 reveal">
                <img src="assets/image/access/test-btn.png" alt="" class="test-btn reveal">
            </div>
            <div class="result2">
                <img src="assets/image/access/result7.png" alt="" class="result1-7 reveal">
                <img src="assets/image/access/result8.png" alt="" class="result1-8 reveal">             
                <div class="img-group">
                    <img src="assets/image/access/result9.png" alt="" class="reveal">
                    <img src="assets/image/access/result10.png" alt="" class="reveal">
                    <img src="assets/image/access/result11.png" alt="" class="reveal">
                    <img src="assets/image/access/result12.png" alt="" class="reveal">
                </div>
            </div>
            <div class="bottom">
                <a href="index.html">
                    <img src="assets/image/access/start-btn.png" alt="" class="main-btn">
                </a>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const steps = document.querySelectorAll(".step");
            const btns = document.querySelectorAll(".nextBtn");

            btns.forEach((btn, index) => {
                btn.addEventListener("click", () => {
                    if(index >= 5 && !steps[index].classList.contains('active')) return;

                    steps[index].classList.remove("on");

                    if (steps[index + 1]) {
                        steps[index + 1].classList.add("on");

                        if (steps[index + 1].classList.contains("step-2")) {
                            const layerImg = steps[index + 1].querySelector(".layer img");
                            layerImg.classList.remove("on");
                            
                            setTimeout(() => {
                                layerImg.classList.add("on");
                            }, 50);
                        }
                    }

                    window.dispatchEvent(new Event('scroll'));
                });
            });

            const step4 = steps[3];
            const step5 = steps[4];
            step4.addEventListener('click', () => {
                step4.classList.remove('on');
                step5.classList.add('on');

                window.dispatchEvent(new Event('scroll'))
            });

            const chkList = document.querySelectorAll('.chk-list .main-cont');
            chkList.forEach(chk => {
                chk.addEventListener('click', (e) => {
                    const target = e.currentTarget;
                    const isActive = target.classList.contains('active');

                    if(!isActive) {
                        target.closest('.chk-list').classList.add('active');
                    }                
                });
            });

            const splash = document.querySelector('.splash');
            splash.addEventListener('click', () => {
                splash.style.display = 'none';
                steps[0].classList.add('on');

                window.dispatchEvent(new Event('scroll'));
            });
            
            checkElemVisibility();

            window.addEventListener("scroll", checkElemVisibility);
            window.addEventListener("resize", checkElemVisibility);
        });
    </script>
</body>
</html>